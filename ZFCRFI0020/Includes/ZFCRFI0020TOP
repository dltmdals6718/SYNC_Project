*&---------------------------------------------------------------------*
*& Include          ZFCRFI0020TOP
*&---------------------------------------------------------------------*

TABLES:
  ZSFC_FI_0100, " 전표 헤더 정보
  ZSFC_FI_0120,  " 고객 정보
  ZTFC_MMT020,  " 거래처 정보
  ZSFC_FI_0060. " 사원 정보

DATA: OK_CODE TYPE SY-UCOMM.

DATA: GV_YEAR TYPE ZTFC_FIT020-GJAHR.

* 조회 - 전표 헤더 데이터 타입
TYPES: BEGIN OF TS_HEADER_INFO.
         INCLUDE TYPE ZTFC_FIT020.
TYPES:   PERNAME    TYPE ZTFC_SDT040-PERNAME, " 사원명
         BKSTAT_TXT TYPE STRING, " 전표 상태 텍스트
         BLART_TXT  TYPE STRING. " 전표 유형 텍스트
TYPES: END OF TS_HEADER_INFO.

* ALV TREE
DATA: GO_ALV_TREE           TYPE REF TO CL_GUI_SIMPLE_TREE,
      GO_TREE_CONTAINER     TYPE REF TO CL_GUI_CUSTOM_CONTAINER,
      GO_NODE_EVENT_HANDLER TYPE REF TO LCL_NODE_EVENT_HANDLER.

DATA: GT_NODE LIKE TABLE OF MTREESNODE WITH DEFAULT KEY,
      GS_NODE LIKE MTREESNODE.

* 계정과목
DATA: GT_ACCOUNT TYPE TABLE OF ZTFC_FIT010,
      GS_ACCOUNT LIKE LINE OF GT_ACCOUNT.

* 총계정원장 ALV
DATA: GO_GL_CONTAINER TYPE REF TO CL_GUI_CUSTOM_CONTAINER,
      GO_GL_ALV_GRID  TYPE REF TO CL_GUI_ALV_GRID.

* 특정 일자 상세보기 ALV
DATA: GO_DETAIL_CONTAINER TYPE REF TO CL_GUI_CUSTOM_CONTAINER,
      GO_DETAIL_ALV_GRID  TYPE REF TO CL_GUI_ALV_GRID.

* 특정 전표 아이템 ALV
DATA: GO_ITEM_CONTAINER TYPE REF TO CL_GUI_CUSTOM_CONTAINER,
      GO_ITEM_ALV_GRID  TYPE REF TO CL_GUI_ALV_GRID.

* 총계정원장 조회 관련 변수
DATA: GT_HEADER   TYPE TABLE OF ZTFC_FIT020, " 전표 헤더
      GS_HEADER   LIKE LINE OF GT_HEADER,
      GT_GLDATA   TYPE TABLE OF ZSFC_FI_0070, " GL 데이터
      GS_GLDATA   LIKE LINE OF GT_GLDATA,
      GT_GLOUTPUT TYPE TABLE OF ZSFC_FI_0080 WITH KEY DATE, " GL 출력용
      GS_GLOUTPUT LIKE LINE OF GT_GLOUTPUT,
      GT_GLDETAIL TYPE TABLE OF ZSFC_FI_0090, " GL 특정 일자 전표 목록
      GS_GLDETAIL LIKE LINE OF GT_GLDETAIL,
      GT_ITEM     TYPE TABLE OF ZSFC_FI_0110, " 특정 전표 아이템
      GS_ITEM     LIKE LINE OF GT_ITEM.


* GL FCat, Layout
DATA: GT_GL_FCAT   TYPE LVC_T_FCAT,
      GS_GL_LAYOUT TYPE LVC_S_LAYO.

* 특정 일자 전표 FCat, Layout
DATA: GT_DEATIL_FCAT   TYPE LVC_T_FCAT,
      GS_DETAIL_LAYOUT TYPE LVC_S_LAYO.

* 특정 전표 아이템 Fcat, Layout
DATA: GT_ITEM_FCAT   TYPE LVC_T_FCAT,
      GS_ITEM_LAYOUT TYPE LVC_S_LAYO.
